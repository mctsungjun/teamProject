<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>파일 선택 창</title>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"  crossorigin="anonymous"></script>
</head>
<body>

<!-- 파일 선택 input 요소 -->
 <form name="frm" method="post" class="frm" enctype="multipart/form-data">
     <input type="file" id="fileInput" name="files" multiple>
     <button type="button" class="btn btn-outline-primary " onclick="btnRepreChange()" >수정</button>

 </form>
<script>
// 파일 선택 input 요소
var formmm = document.frm;

// 파일 선택 시 이벤트 처리
let btnRepreChange =() => {
    var formData = new FormData(formmm);
		
	$(document).ready(function() {
		$.ajax({
        url: '/sung/upload',
        type: 'POST',
        data: formData,
        processData: false, // 데이터 처리를 jQuery에게 맡기지 않음
        contentType: false, // Content-Type을 설정하지 않음
        success: function(response) {
            console.log('파일 업로드 성공:', response);
            // 업로드 성공 후 처리
            
            
		// 여기에 실행할 코드 작성
	}
	
	});
	
	setTimeout(function() {
		window.close();
    // 여기에 실행할 코드 작성
    console.log('지연 후 실행됨');
}, 1000); // 1000밀리초(1초) 후에 실행

	});
    // 부모 창에서 이 창 닫기
  // window.close();
};
</script>

</body>
</html>
