<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper      
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"      
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="msmQa">
    <select id="list" parameterType="String" resultType="com.team.project.msm.msmQaVo">
        select qusId, qusDate, qusTitle, qusNum, qusView
        from qa
        order by qusNum desc
    </select>

    <select id="view" parameterType="String" resultType="com.team.project.msm.msmQaVo">
        select * from qa
        where qusNum = #{qusNum}
    </select>

    <select id="qaFiles" parameterType="String" resultType="com.team.project.msm.msmQaVo">
        select qusId, qusCon, qusDate, qusTitle, ansId, ansCon, ansDate, qusNum
        from qa
    </select>

    <select id="detail" parameterType="String" resultType="com.team.project.msm.msmQaVo">
        select qusId, qusCon, qusDate, qusTitle, ansId, ansCon, ansDate, qusNum
        from qa 
        where qusNum = #{qusNum}
    </select>

    <select id="search" parameterType="String" resultType="com.team.project.msm.msmQaVo">
        select qusNum, qusId, qusTitle, qusDate, qusView
        from qa
        where qusTitle like concat('%', #{findStr}, '%')
        order by qusNum desc
    </select>

    <insert id="saveAnswer" parameterType="msmQavo">
        insert into qa (ansCon, ansDate, ansId)
        values (#{ansCon}, now(), #{ansId})
    </insert>

    <insert id="saveQuestion" parameterType="msmQaVo">
        insert into qa(qusCon, qusTitle, qusDate)
        values (#{qusCon}, #{qusTitle}, now())
    </insert>

   
</mapper>